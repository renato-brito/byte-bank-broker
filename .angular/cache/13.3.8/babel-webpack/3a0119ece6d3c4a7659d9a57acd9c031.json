{"ast":null,"code":"import { Subscription } from 'rxjs';\nimport { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../authorization/authorization.service\";\nimport * as i3 from \"@po-ui/ng-components\";\n\nconst _c0 = function () {\n  return [];\n};\n\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(router, authService) {\n      this.router = router;\n      this.authService = authService;\n      this.profileActions = [];\n      this.profile = {\n        avatar: '',\n        title: ''\n      };\n      this.subs = new Subscription();\n      this.title = environment.name;\n      this.logo = `../../${environment.imagesPath}/bytebank.png`;\n    }\n\n    ngOnInit() {\n      this.setHomeInfo();\n    }\n\n    ngOnDestroy() {\n      this.subs.unsubscribe();\n    }\n\n    logout() {\n      this.authService.logout();\n      this.router.navigate(['login']);\n    }\n\n    setHomeInfo() {\n      this.user = this.authService.getAuthenticatedUser();\n      this.profileActions.push({\n        label: 'Logout',\n        action: () => this.logout()\n      });\n      this.menu = this.getMenus();\n      this.profile.title = this.user.name;\n    }\n\n    getMenus() {\n      const menu = [{\n        label: 'Home',\n        link: '/home'\n      }, {\n        label: 'Ações',\n        link: '/home/acoes'\n      }];\n      return menu;\n    }\n\n  }\n\n  HomeComponent.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthorizationService));\n  };\n\n  HomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    decls: 4,\n    vars: 8,\n    consts: [[1, \"po-wrapper\"], [\"p-notification-number\", \"0\", 3, \"p-title\", \"p-show-notification\", \"p-notification-actions\", \"p-profile\", \"p-profile-actions\"], [3, \"p-menus\", \"p-logo\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"po-toolbar\", 1)(2, \"po-menu\", 2)(3, \"router-outlet\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"p-title\", ctx.title)(\"p-show-notification\", false)(\"p-notification-actions\", i0.ɵɵpureFunction0(7, _c0))(\"p-profile\", ctx.profile)(\"p-profile-actions\", ctx.profileActions);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"p-menus\", ctx.menu)(\"p-logo\", ctx.logo);\n      }\n    },\n    directives: [i3.PoToolbarComponent, i3.PoMenuComponent, i1.RouterOutlet],\n    styles: [\"\"],\n    encapsulation: 2\n  });\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}